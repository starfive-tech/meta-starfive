From 8d4080b38baab581c714d29527abb2172efe6883 Mon Sep 17 00:00:00 2001
From: "max.ma" <max.ma@starfivetech.com>
Date: Sun, 9 Oct 2022 02:11:31 -0700
Subject: [PATCH 09/11] add multilib config for baremetal

---
 gcc/config/riscv/t-elf-multilib | 41 +++++++++------------------------
 1 file changed, 11 insertions(+), 30 deletions(-)

diff --git a/gcc/config/riscv/t-elf-multilib b/gcc/config/riscv/t-elf-multilib
index 19f9434616c..5307a8610eb 100644
--- a/gcc/config/riscv/t-elf-multilib
+++ b/gcc/config/riscv/t-elf-multilib
@@ -1,30 +1,11 @@
-# This file was generated by multilib-generator with the command:
-#  ./multilib-generator rv32i-ilp32--c rv32im-ilp32--c rv32iac-ilp32-- rv32imac-ilp32-- rv32imafc-ilp32f-rv32imafdc- rv64imac-lp64-- rv64imafdc-lp64d--
-MULTILIB_OPTIONS = march=rv32i/march=rv32ic/march=rv32im/march=rv32imc/march=rv32iac/march=rv32imac/march=rv32imafc/march=rv32imafdc/march=rv32gc/march=rv64imac/march=rv64imafdc/march=rv64gc mabi=ilp32/mabi=ilp32f/mabi=lp64/mabi=lp64d
-MULTILIB_DIRNAMES = rv32i \
-rv32ic \
-rv32im \
-rv32imc \
-rv32iac \
-rv32imac \
-rv32imafc \
-rv32imafdc \
-rv32gc \
-rv64imac \
-rv64imafdc \
-rv64gc ilp32 \
-ilp32f \
-lp64 \
-lp64d
-MULTILIB_REQUIRED = march=rv32i/mabi=ilp32 \
-march=rv32im/mabi=ilp32 \
-march=rv32iac/mabi=ilp32 \
-march=rv32imac/mabi=ilp32 \
-march=rv32imafc/mabi=ilp32f \
-march=rv64imac/mabi=lp64 \
-march=rv64imafdc/mabi=lp64d
-MULTILIB_REUSE = march.rv32i/mabi.ilp32=march.rv32ic/mabi.ilp32 \
-march.rv32im/mabi.ilp32=march.rv32imc/mabi.ilp32 \
-march.rv32imafc/mabi.ilp32f=march.rv32imafdc/mabi.ilp32f \
-march.rv32imafc/mabi.ilp32f=march.rv32gc/mabi.ilp32f \
-march.rv64imafdc/mabi.lp64d=march.rv64gc/mabi.lp64d
+#  ./riscv-gcc/gcc/config/riscv/multilib-generator rv64imafdc_zicsr_zifencei-lp64d-- rv64imafdc_zicsr_zifencei_zba_zbb_zbc_zbs-lp64d-- rv64imafdcv_zicsr_zifencei-lp64d-- rv64imafdcv_zicsr_zifencei_zba_zbb_zbc_zbs-lp64d--
+MULTILIB_OPTIONS = march=rv64imafdc_zicsr_zifencei/march=rv64imafdc_zicsr_zifencei_zba_zbb_zbc_zbs/march=rv64imafdcv_zicsr_zifencei_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b/march=rv64imafdcv_zicsr_zifencei_zba_zbb_zbc_zbs_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b mabi=lp64d 
+MULTILIB_DIRNAMES = rv64imafdc_zicsr_zifencei \
+rv64imafdc_zicsr_zifencei_zba_zbb_zbc_zbs \
+rv64imafdcv_zicsr_zifencei_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b \
+rv64imafdcv_zicsr_zifencei_zba_zbb_zbc_zbs_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b lp64d 
+MULTILIB_REQUIRED = march=rv64imafdc_zicsr_zifencei/mabi=lp64d \
+march=rv64imafdc_zicsr_zifencei_zba_zbb_zbc_zbs/mabi=lp64d \
+march=rv64imafdcv_zicsr_zifencei_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b/mabi=lp64d \
+march=rv64imafdcv_zicsr_zifencei_zba_zbb_zbc_zbs_zve32f_zve32x_zve64d_zve64f_zve64x_zvl128b_zvl32b_zvl64b/mabi=lp64d
+MULTILIB_REUSE = 
-- 
2.25.1

